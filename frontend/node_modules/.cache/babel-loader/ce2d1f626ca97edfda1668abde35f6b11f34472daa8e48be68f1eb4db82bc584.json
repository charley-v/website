{"ast":null,"code":"import React,{createContext,useState}from\"react\";import all_knifes from'../Components/Assets/all_knifes';import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let index=0;index<all_knifes.length+1;index++){cart[index]=0;}return cart;};const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());const addToCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]+1}));console.log(cartItems);};const removeFromCart=id=>{setCartItems(prevItems=>{const updatedItems={...prevItems};if(updatedItems[id]>1){updatedItems[id]-=1;}else{delete updatedItems[id];}return updatedItems;});};const getTotalCartAmount=()=>{const totalAmount=all_knifes.reduce((total,knife)=>{return total+(cartItems[knife.id]||0)*knife.knife_price;},0);return totalAmount;};const getTotalCartItems=()=>{let totalItem=0;for(const item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};const contextValue={getTotalCartItems,getTotalCartAmount,all_knifes,cartItems,addToCart,removeFromCart};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_knifes","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","ShopContextProvider","props","cartItems","setCartItems","addToCart","itemId","prev","console","log","removeFromCart","id","prevItems","updatedItems","getTotalCartAmount","totalAmount","reduce","total","knife","knife_price","getTotalCartItems","totalItem","item","contextValue","Provider","value","children"],"sources":["/workspaces/website/frontend/src/Context/ShopContext.jsx"],"sourcesContent":["import React, {createContext, useState} from \"react\";\nimport all_knifes from '../Components/Assets/all_knifes'\n\nexport const ShopContext = createContext(null);\n\nconst getDefaultCart = ()=>{\n    let cart = {};\n    for (let index = 0; index < all_knifes.length+1; index++)\n    {\n        cart[index] = 0;\n    }\n    return cart;\n}\n\nconst ShopContextProvider =(props)=>{\n\n    const [cartItems, setCartItems] = useState(getDefaultCart());\n    \n    const addToCart = (itemId) => {\n        setCartItems((prev)=>({...prev, [itemId]:prev[itemId]+1}))\n        console.log(cartItems);\n    }\n    const removeFromCart = (id) => {\n        setCartItems((prevItems) => { \n           const updatedItems ={ ...prevItems}\n           if(updatedItems[id] > 1){\n            updatedItems[id] -= 1\n           } else{\n            delete updatedItems[id]\n           }\n           return updatedItems\n        })\n    }\n    const getTotalCartAmount = () =>{\n         const totalAmount = all_knifes.reduce((total, knife) => {\n          return total + (cartItems[knife.id] || 0) * knife.knife_price;\n        }, 0)\n        return totalAmount\n    }\n\n    const getTotalCartItems = () =>{\n        let totalItem = 0;\n        for(const item in cartItems)\n        {\n            if(cartItems[item] > 0)\n            {\n                totalItem+= cartItems[item];\n            }\n        }\n        return totalItem;\n    }\n\n    const contextValue = {getTotalCartItems, getTotalCartAmount, all_knifes,cartItems,addToCart,removeFromCart}\n\n    return (\n        <ShopContext.Provider value={contextValue}>\n            {props.children}\n        </ShopContext.Provider>\n    )\n}\n\nexport default ShopContextProvider;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,aAAa,CAAEC,QAAQ,KAAO,OAAO,CACpD,MAAO,CAAAC,UAAU,KAAM,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,yBAExD,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAI,CACvB,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGN,UAAU,CAACO,MAAM,CAAC,CAAC,CAAED,KAAK,EAAE,CACxD,CACID,IAAI,CAACC,KAAK,CAAC,CAAG,CAAC,CACnB,CACA,MAAO,CAAAD,IAAI,CACf,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGC,KAAK,EAAG,CAEhC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAE5D,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC1BF,YAAY,CAAEG,IAAI,GAAI,CAAC,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAEC,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1DE,OAAO,CAACC,GAAG,CAACN,SAAS,CAAC,CAC1B,CAAC,CACD,KAAM,CAAAO,cAAc,CAAIC,EAAE,EAAK,CAC3BP,YAAY,CAAEQ,SAAS,EAAK,CACzB,KAAM,CAAAC,YAAY,CAAE,CAAE,GAAGD,SAAS,CAAC,CACnC,GAAGC,YAAY,CAACF,EAAE,CAAC,CAAG,CAAC,CAAC,CACvBE,YAAY,CAACF,EAAE,CAAC,EAAI,CAAC,CACtB,CAAC,IAAK,CACL,MAAO,CAAAE,YAAY,CAACF,EAAE,CAAC,CACxB,CACA,MAAO,CAAAE,YAAY,CACtB,CAAC,CAAC,CACN,CAAC,CACD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAK,CAC3B,KAAM,CAAAC,WAAW,CAAGtB,UAAU,CAACuB,MAAM,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,CACvD,MAAO,CAAAD,KAAK,CAAG,CAACd,SAAS,CAACe,KAAK,CAACP,EAAE,CAAC,EAAI,CAAC,EAAIO,KAAK,CAACC,WAAW,CAC/D,CAAC,CAAE,CAAC,CAAC,CACL,MAAO,CAAAJ,WAAW,CACtB,CAAC,CAED,KAAM,CAAAK,iBAAiB,CAAGA,CAAA,GAAK,CAC3B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAI,KAAM,CAAAC,IAAI,GAAI,CAAAnB,SAAS,CAC3B,CACI,GAAGA,SAAS,CAACmB,IAAI,CAAC,CAAG,CAAC,CACtB,CACID,SAAS,EAAGlB,SAAS,CAACmB,IAAI,CAAC,CAC/B,CACJ,CACA,MAAO,CAAAD,SAAS,CACpB,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,CAACH,iBAAiB,CAAEN,kBAAkB,CAAErB,UAAU,CAACU,SAAS,CAACE,SAAS,CAACK,cAAc,CAAC,CAE3G,mBACIf,IAAA,CAACC,WAAW,CAAC4B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACrCxB,KAAK,CAACwB,QAAQ,CACG,CAAC,CAE/B,CAAC,CAED,cAAe,CAAAzB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}